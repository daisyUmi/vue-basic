<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="../js/vue.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<div id="app">
			<input type="text" v-focus v-model="msg" name="" id="" value="" />
			<div id="" v-lc.enter='msg'>

			</div>
		</div>

		<script type="text/javascript">
			Vue.directive('focus', {
				bind: function() {
					console.log('指令绑定到元素上时候用，仅调用一次')
				},
				inserted: function(el, binding, vnode, olodVnode) {
					console.log('插入函数，在元素往父元素插入的时候调用')
					// console.log('el:',el)
					// console.log('binding:',binding)
					// console.log('vnode:',vnode)
					// console.log('olodVnode:',olodVnode)
					//聚焦
					el.focus()
				},
				// update:function(){
				// 	console.log('组件更新的时候调用')
				// },
				// componentUpdated:function(){
				// 	console.log('组件和子组件更新完成时候调用')
				// },
				// unbind:function(){
				// 	console.log('组件解绑的时候调用，仅调用一次')
				// }
			})

			Vue.directive('lc', {
				bind: function() {
					console.log('指令绑定到元素上时候用，仅调用一次')
				},
				inserted: function(el, binding, vnode, olodVnode) {
					// 循环生成一个msg值的列表
					// el.appendChild()
					let str = '<ul>'
					for (let i = 0; i < 5; i++) {
						str += `<li>${binding.rawName}:${binding.value}</li>`
					}
					str += '</ul>'
					el.innerHTML = str;
				},
				update:function(el, binding){
					console.log('update')
					// 循环生成一个msg值的列表
					// el.appendChild()
					let str = '<ul>'
					for (let i = 0; i < 5; i++) {
						str += `<li>${binding.rawName}:${binding.value}</li>`
					}
					str += '</ul>'
					el.innerHTML = str;
				}
			})

			let app = new Vue({
				el: "#app",
				data: {
					msg: 'hello'
				}
			})
		</script>
	</body>
</html>
